<!DOCTYPE html>
<html>
    <head>
        <title>BrowWeb Music</title>
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="apple-touch-icon" sizes="180x180" href="/mp3Player/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/mp3Player/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/mp3Player/favicon-16x16.png">
<link rel="icon" type="image/x-icon" sizes="16x16" href="/mp3Player/favicon.ico">
<link rel="icon" type="image/x-icon" sizes="16x16" href="favicon.ico">

<link rel="manifest" href="/mp3Player/site.webmanifest">



        <style>

            body {
                font-family:Open Sans;
                background-repeat: none;
                background-size: cover;
                
                
                
            }
            
            * {
              box-sizing: border-box;
            }
            .inline {
                display: inline-block;
                margin: 3px;
                background-repeat: none;
                background-size: cover;
                border: 2px solid black;
            }

            button {
                background-color: rgb(20,75,125);
                border: 2px white;
                height: 15%;
                width: 70%;
                max-font-size: 190%;
                text-align: center;
                margin: auto;
                color: white;
            }

            input[type="file"] {
                max-font-size: 230%;
                max-width: 70%;
                padding: 5px;
                margin: 10px;
                border: 2px solid white;
            }
            
            input[type="submit"] {
                max-font-size: 230%;
                max-width: 70%;
                padding: 5px;
                margin: 10px;
            }
            
            input[type="submit"]:active {
              
              background-color: white;
              
                
            }

            #greys {
              background-color: rgb(120,120,120);
                
              text-align: center;
              margin: 0;
              
              border-radius: 5px;
              
            }

            h4 {
                font-size: 200%;
            }

            label {
                max-font-size: 210%;
                
            }

            form {
                background-color: rgb(100,150,170);
            }
            
      
            
        </style>
    </head>
    <body>
    <div id="greys">
        <h1>Music Player</h1>
        <h3 id="title"></h3>
        <audio id="audit"></audio>
        <button id="play" onclick="start()">Play</button>
        
        <form>
            <h4>Choose file here:</h4>
            <label for="music">Music: </label>
            <input name="music" type="file" id="audios" accept="audio/*"><br>

            <label for="picting">Background Image: </label>
            <input name="picting" type="file" id="picto" accept="image/*"><br>
            <input class="submission" type="submit" onclick="plays(event)">
        </form>
        </div>
        <script>
            const title = document.getElementById("title")
            const play = document.getElementById("play")
            const audios = document.getElementById("audios")
            const picto = document.getElementById("picto")
            let playing = false
             const audit = document.getElementById("audit")
            function plays(event) {
                playing = true
                event.preventDefault()

                const musicType = audios.files[0]
                if (musicType) {
              audit.src = URL.createObjectURL(musicType)
              audit.play()
                title.innerHTML = musicType.name
                }
            
                  const picType = picto.files[0]
                if (picType) {
              document.body.style.backgroundImage = `url('${URL.createObjectURL(picType)}')`
              
                }

                else {}

               
            

                const list = document.createElement("div")
                list.style.height = "240%"
                list.style.width = "220%"
                list.style.backgroundImage = `url('${URL.createObjectURL(picType)}')`
                
                list.classList = "inline"
                
                list.onclick = function() {
                    audit.src = URL.createObjectURL(musicType)
                    audit.play()
                    title.innerHTML = musicType.name
                }
                document.body.appendChild(list)
                
                const listTitle = document.createElement("h5")
                listTitle.innerHTML = musicType.name
                listTitle.style.fontSize = "29%"
                
                list.appendChild(listTitle)
                

            
            
            }

            function start() {
                
                if (audit.paused) {
                    audit.play()
                    playing = true
                    play.innerHTML = "Pause"
                } 
                if (playing) {
                    audit.pause()
                    playing = false
                    play.innerHTML = "Play"
                }

                else {

                }
            }

            
        </script>
    </body>
